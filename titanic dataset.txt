import seaborn as sns
import matplotlib.pyplot as plt
import pandas as pd

# Select only numeric columns and drop missing values safely
numeric_df = df.select_dtypes(include=['number']).dropna(axis=1, how='all')

# Compute correlation matrix with numeric_only=True for safety
corr = numeric_df.corr(numeric_only=True)

# Plot heatmap
plt.figure(figsize=(8,6))
sns.heatmap(corr, annot=True, cmap='coolwarm', fmt=".2f")
plt.title("Correlation Heatmap (Safe Version)")
plt.show()